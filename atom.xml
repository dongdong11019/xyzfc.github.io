<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>雨醉风尘</title>
  
  <subtitle>日记一事，年复成书</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://inscode.github.io/"/>
  <updated>2019-08-15T15:43:45.226Z</updated>
  <id>https://inscode.github.io/</id>
  
  <author>
    <name>雨醉风尘</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>MySQL 5.7.21-1配置文件my.cnf</title>
    <link href="https://inscode.github.io/2019/08/15/MySQL-5-7-21-1%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6my-cnf/"/>
    <id>https://inscode.github.io/2019/08/15/MySQL-5-7-21-1配置文件my-cnf/</id>
    <published>2019-08-15T14:34:35.000Z</published>
    <updated>2019-08-15T15:43:45.226Z</updated>
    
    <content type="html"><![CDATA[<p>简述：<code>MySQL 5.7.21-1</code> 原始配置文件 <code>my.cnf</code>，为以后查询方便特此记录</p><p>MySQL 安装后的一些注意点</p><p>1：安装后先设置字符编码。如果一个库（<code>eg:DB1</code>）在使用期间改变了 <code>my.cnf</code> 的字符编码配置，此时 DB1 的原有的字符串编码不受影响，<br>如果再新建一个 <code>DB</code>2 库，则 <code>DB2</code> 使用心得字符编码。</p> <a id="more"></a><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># The MySQL database server configuration file.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># You can copy this to one of:</span></span><br><span class="line"><span class="comment"># - "/etc/mysql/my.cnf" to set global options,</span></span><br><span class="line"><span class="comment"># - "~/.my.cnf" to set user-specific options.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># One can use all long options that the program supports.</span></span><br><span class="line"><span class="comment"># Run program with --help to get a list of available options and with</span></span><br><span class="line"><span class="comment"># --print-defaults to see which it would actually understand and use.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># For explanations see</span></span><br><span class="line"><span class="comment"># http://dev.mysql.com/doc/mysql/en/server-system-variables.html</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># This will be passed to all mysql clients</span></span><br><span class="line"><span class="comment"># It has been reported that passwords should be enclosed with ticks/quotes</span></span><br><span class="line"><span class="comment"># escpecially if they contain "#" chars...</span></span><br><span class="line"><span class="comment"># Remember to edit /etc/mysql/debian.cnf when changing the socket location.</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Here is entries for some specific programs</span></span><br><span class="line"><span class="comment"># The following values assume you have at least 32M ram</span></span><br><span class="line"></span><br><span class="line">[mysqld_safe]</span><br><span class="line">socket= /var/run/mysqld/mysqld.sock</span><br><span class="line">nice= 0</span><br><span class="line"></span><br><span class="line">[mysqld]</span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># * Basic Settings</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line">user= mysql</span><br><span class="line">pid-file= /var/run/mysqld/mysqld.pid</span><br><span class="line">socket= /var/run/mysqld/mysqld.sock</span><br><span class="line">port= 3306</span><br><span class="line">basedir= /usr</span><br><span class="line">datadir= /var/lib/mysql</span><br><span class="line">tmpdir= /tmp</span><br><span class="line">lc-messages-dir= /usr/share/mysql</span><br><span class="line"></span><br><span class="line"><span class="comment"># set server character</span></span><br><span class="line">character-<span class="keyword">set</span>-<span class="keyword">server</span> = utf8</span><br><span class="line"><span class="keyword">collation</span>-<span class="keyword">server</span>     = utf8_general_ci</span><br><span class="line">init_connect         = <span class="string">'SET NAMES utf8'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">skip</span>-<span class="keyword">external</span>-locking</span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Instead of skip-networking the default is now to listen only on</span></span><br><span class="line"><span class="comment"># localhost which is more compatible and is not less secure.</span></span><br><span class="line">bind-address= <span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># * Fine Tuning</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line">key_buffer_size= <span class="number">16</span>M</span><br><span class="line">max_allowed_packet= <span class="number">16</span>M</span><br><span class="line">thread_stack= <span class="number">192</span>K</span><br><span class="line">thread_cache_size       = <span class="number">8</span></span><br><span class="line"><span class="comment"># This replaces the startup script and checks MyISAM tables if needed</span></span><br><span class="line"><span class="comment"># the first time they are touched</span></span><br><span class="line">myisam-<span class="keyword">recover</span>-options  = <span class="keyword">BACKUP</span></span><br><span class="line"><span class="comment">#max_connections        = 100</span></span><br><span class="line"><span class="comment">#table_open_cache       = 64</span></span><br><span class="line"><span class="comment">#thread_concurrency     = 10</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># * Query Cache Configuration</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line">query_cache_limit= <span class="number">1</span>M</span><br><span class="line">query_cache_size        = <span class="number">16</span>M</span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># * Logging and Replication</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Both location gets rotated by the cronjob.</span></span><br><span class="line"><span class="comment"># Be aware that this log type is a performance killer.</span></span><br><span class="line"><span class="comment"># As of 5.1 you can enable the log at runtime!</span></span><br><span class="line"><span class="comment">#general_log_file        = /var/log/mysql/mysql.log</span></span><br><span class="line"><span class="comment">#general_log             = 1</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Error log - should be very few entries.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line">log_error = /<span class="keyword">var</span>/<span class="keyword">log</span>/mysql/error.log</span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Here you can see queries with especially long duration</span></span><br><span class="line"><span class="comment">#slow_query_log= 1</span></span><br><span class="line"><span class="comment">#slow_query_log_file= /var/log/mysql/mysql-slow.log</span></span><br><span class="line"><span class="comment">#long_query_time = 2</span></span><br><span class="line"><span class="comment">#log-queries-not-using-indexes</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># The following can be used as easy to replay backup logs or for replication.</span></span><br><span class="line"><span class="comment"># <span class="doctag">note:</span> if you are setting up a replication slave, see README.Debian about</span></span><br><span class="line"><span class="comment">#       other settings you may need to change.</span></span><br><span class="line"><span class="comment">#server-id= 1</span></span><br><span class="line"><span class="comment">#log_bin= /var/log/mysql/mysql-bin.log</span></span><br><span class="line">expire_logs_days= <span class="number">10</span></span><br><span class="line">max_binlog_size   = <span class="number">100</span>M</span><br><span class="line"><span class="comment">#binlog_do_db= include_database_name</span></span><br><span class="line"><span class="comment">#binlog_ignore_db= include_database_name</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># * InnoDB</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># InnoDB is enabled by default with a 10MB datafile in /var/lib/mysql/.</span></span><br><span class="line"><span class="comment"># Read the manual for more InnoDB related options. There are many!</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># * Security Features</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Read the manual, too, if you want chroot!</span></span><br><span class="line"><span class="comment"># 数据文件的存放路径【每一个数据库是目录】</span></span><br><span class="line"><span class="comment"># chroot = /var/lib/mysql/</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># For generating SSL certificates I recommend the OpenSSL GUI "tinyca".</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># ssl-ca=/etc/mysql/cacert.pem</span></span><br><span class="line"><span class="comment"># ssl-cert=/etc/mysql/server-cert.pem</span></span><br><span class="line"><span class="comment"># ssl-key=/etc/mysql/server-key.pem</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;简述：&lt;code&gt;MySQL 5.7.21-1&lt;/code&gt; 原始配置文件 &lt;code&gt;my.cnf&lt;/code&gt;，为以后查询方便特此记录&lt;/p&gt;
&lt;p&gt;MySQL 安装后的一些注意点&lt;/p&gt;
&lt;p&gt;1：安装后先设置字符编码。如果一个库（&lt;code&gt;eg:DB1&lt;/code&gt;）在使用期间改变了 &lt;code&gt;my.cnf&lt;/code&gt; 的字符编码配置，此时 DB1 的原有的字符串编码不受影响，&lt;br&gt;如果再新建一个 &lt;code&gt;DB&lt;/code&gt;2 库，则 &lt;code&gt;DB2&lt;/code&gt; 使用心得字符编码。&lt;/p&gt;
    
    </summary>
    
      <category term="数据库" scheme="https://inscode.github.io/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/"/>
    
    
      <category term="MySQL" scheme="https://inscode.github.io/tags/MySQL/"/>
    
  </entry>
  
  <entry>
    <title>Golang爬虫系列三：下载去哪儿游记图片到本地</title>
    <link href="https://inscode.github.io/2019/08/14/Golang%E4%B8%8B%E8%BD%BD%E5%8E%BB%E5%93%AA%E5%84%BF%E6%B8%B8%E8%AE%B0%E5%9B%BE%E7%89%87%E5%88%B0%E6%9C%AC%E5%9C%B0/"/>
    <id>https://inscode.github.io/2019/08/14/Golang下载去哪儿游记图片到本地/</id>
    <published>2019-08-14T11:21:39.000Z</published>
    <updated>2019-08-14T11:27:37.526Z</updated>
    
    <content type="html"><![CDATA[<h6 id="声明：以下内容仅供技术学习"><a href="#声明：以下内容仅供技术学习" class="headerlink" title="声明：以下内容仅供技术学习"></a>声明：以下内容仅供技术学习</h6><p>简述： 获取<a href="http://www.qunar.com/" target="_blank" rel="noopener">去哪儿网</a> 中的的游记（eg: <a href="https://travel.qunar.com/youji/6961284" target="_blank" rel="noopener">美在“十二背后”</a> ）页面中的图片地址并将图片保存到本地</p><a id="more"></a><h5 id="步骤如下"><a href="#步骤如下" class="headerlink" title="步骤如下"></a>步骤如下</h5><p>1: 使用正则获取图片的链接并存储到一个 <code>slice</code> 中</p><p>2: 遍历 <code>slice</code> 中的 图片地址，读取数据保存到本地</p><p><strong>代码如下</strong></p><figure class="highlight golang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">"fmt"</span></span><br><span class="line">    <span class="string">"strconv"</span></span><br><span class="line">    <span class="string">"net/http"</span></span><br><span class="line">    <span class="string">"io"</span></span><br><span class="line">    <span class="string">"regexp"</span></span><br><span class="line">    <span class="string">"os"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">var</span> articleId <span class="keyword">int</span></span><br><span class="line">    fmt.Print(<span class="string">"请输入游记id: "</span>)</span><br><span class="line">    fmt.Scan(&amp;articleId)</span><br><span class="line"></span><br><span class="line">    spiderArticleImageUrls(articleId)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">spiderArticleImageUrls</span><span class="params">(articleId <span class="keyword">int</span>)</span></span> &#123;</span><br><span class="line">    <span class="comment">//https://travel.qunar.com/youji/5908435</span></span><br><span class="line">    articleUrl := <span class="string">"https://travel.qunar.com/youji/"</span> + strconv.Itoa(articleId)</span><br><span class="line">    resp, err1 := http.Get(articleUrl)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//fmt.Println(resp.StatusCode)</span></span><br><span class="line">    <span class="comment">//os.Exit(1)</span></span><br><span class="line">    <span class="keyword">if</span> err1 != <span class="literal">nil</span> &#123;</span><br><span class="line">        fmt.Println(<span class="string">"http get err:"</span>, <span class="literal">nil</span>)</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> resp.StatusCode != <span class="number">200</span> &#123;</span><br><span class="line">        fmt.Println(<span class="string">"404 not found"</span>)</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">defer</span> resp.Body.Close()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> pageContent <span class="keyword">string</span></span><br><span class="line">    buffer := <span class="built_in">make</span>([]<span class="keyword">byte</span>, <span class="number">8192</span>)</span><br><span class="line">    <span class="keyword">for</span> &#123;</span><br><span class="line">        n, err2 := resp.Body.Read(buffer)</span><br><span class="line">        <span class="keyword">if</span> n == <span class="number">0</span> &#123;</span><br><span class="line">            fmt.Println(<span class="string">"读取网页完成"</span>)</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> err2 != <span class="literal">nil</span> &amp;&amp; err2 != io.EOF &#123;</span><br><span class="line">            fmt.Println(<span class="string">"err2:"</span>, err2)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        pageContent += <span class="keyword">string</span>(buffer[:n])</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    osDir, _ := os.Getwd()</span><br><span class="line">    dir := osDir + <span class="string">"/qunar/"</span></span><br><span class="line">    os.Mkdir(dir, os.ModePerm)</span><br><span class="line">    fileName := dir + strconv.Itoa(articleId) + <span class="string">".txt"</span></span><br><span class="line"></span><br><span class="line">    file, err3 := os.Create(fileName)</span><br><span class="line">    <span class="keyword">if</span> err3 != <span class="literal">nil</span> &#123;</span><br><span class="line">        fmt.Println(<span class="string">"文件创建失败: "</span>, err3)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* 写入内容到文件*/</span></span><br><span class="line">    image_pat := regexp.MustCompile(<span class="string">`data-retina="(.*?)" class="box_img js_box_img js_lazyimg ajaxloading"`</span>)</span><br><span class="line">    image_urls := image_pat.FindAllStringSubmatch(pageContent, <span class="number">-1</span>)</span><br><span class="line">    <span class="comment">//var saveImages []string</span></span><br><span class="line">    imgDir := osDir + <span class="string">"/qunar/"</span> + strconv.Itoa(articleId) + <span class="string">"/"</span></span><br><span class="line">    os.Mkdir(imgDir, os.ModePerm)</span><br><span class="line">    fileSaveChan := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="keyword">int</span>)</span><br><span class="line">    <span class="keyword">for</span> key, image := <span class="keyword">range</span> image_urls &#123;</span><br><span class="line">        key++</span><br><span class="line">        <span class="keyword">go</span> saveImageUrlToFile(key, image[<span class="number">1</span>], imgDir, fileSaveChan)</span><br><span class="line">        file.WriteString(<span class="keyword">string</span>(key) + <span class="string">"--"</span> + image[<span class="number">1</span>] + <span class="string">"\n"</span>)</span><br><span class="line">        <span class="comment">//saveImages = append(saveImages, image[1])</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    imgCount := (<span class="built_in">len</span>(image_urls))</span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; imgCount; i++ &#123;</span><br><span class="line">        fmt.Printf(<span class="string">"图片%d.jpg 保存成功\n"</span>, &lt;-fileSaveChan)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//保存文件件</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">saveImageUrlToFile</span><span class="params">(i <span class="keyword">int</span>, imgUrl, dir <span class="keyword">string</span>, fileSaveChan <span class="keyword">chan</span> <span class="keyword">int</span>)</span></span> &#123;</span><br><span class="line">    fileName := dir + strconv.Itoa(i) + <span class="string">".jpg"</span></span><br><span class="line">    file, _ := os.Create(fileName)</span><br><span class="line">    resp, err1 := http.Get(imgUrl)</span><br><span class="line">    <span class="keyword">if</span> err1 != <span class="literal">nil</span> &#123;</span><br><span class="line">        fmt.Println(<span class="string">"saveImageUrlToFile err:"</span>, err1)</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">defer</span> resp.Body.Close()</span><br><span class="line"></span><br><span class="line">    buffer := <span class="built_in">make</span>([]<span class="keyword">byte</span>, <span class="number">8192</span>)</span><br><span class="line">    <span class="keyword">for</span> &#123;</span><br><span class="line">        n, err2 := resp.Body.Read(buffer)</span><br><span class="line">        <span class="keyword">if</span> n == <span class="number">0</span> &#123;</span><br><span class="line">            <span class="comment">//fmt.Println("saveImageUrlToFile 读取网页完成:", i)</span></span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> err2 != <span class="literal">nil</span> &amp;&amp; err2 != io.EOF &#123;</span><br><span class="line">            fmt.Println(<span class="string">"err2:"</span>, err2)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//数据写入文件</span></span><br><span class="line">        file.Write(buffer[:n])</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    fileSaveChan &lt;- i</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;h6 id=&quot;声明：以下内容仅供技术学习&quot;&gt;&lt;a href=&quot;#声明：以下内容仅供技术学习&quot; class=&quot;headerlink&quot; title=&quot;声明：以下内容仅供技术学习&quot;&gt;&lt;/a&gt;声明：以下内容仅供技术学习&lt;/h6&gt;&lt;p&gt;简述： 获取&lt;a href=&quot;http://www.qunar.com/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;去哪儿网&lt;/a&gt; 中的的游记（eg: &lt;a href=&quot;https://travel.qunar.com/youji/6961284&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;美在“十二背后”&lt;/a&gt; ）页面中的图片地址并将图片保存到本地&lt;/p&gt;
    
    </summary>
    
      <category term="Golang" scheme="https://inscode.github.io/categories/Golang/"/>
    
    
      <category term="Go" scheme="https://inscode.github.io/tags/Go/"/>
    
      <category term="爬虫" scheme="https://inscode.github.io/tags/%E7%88%AC%E8%99%AB/"/>
    
  </entry>
  
  <entry>
    <title>Golang爬虫系列二：爬取捧腹网段子及其笑话详情</title>
    <link href="https://inscode.github.io/2019/08/12/golang%E7%88%AC%E5%8F%96%E5%86%85%E6%B6%B5%E6%AE%B5%E5%AD%90%E7%AC%91%E8%AF%9D%E5%8F%8A%E4%BA%8C%E7%BA%A7%E9%A1%B5%E9%9D%A2/"/>
    <id>https://inscode.github.io/2019/08/12/golang爬取内涵段子笑话及二级页面/</id>
    <published>2019-08-12T13:55:04.000Z</published>
    <updated>2019-08-14T11:25:49.646Z</updated>
    
    <content type="html"><![CDATA[<h6 id="声明：以下内容仅供技术学习"><a href="#声明：以下内容仅供技术学习" class="headerlink" title="声明：以下内容仅供技术学习"></a>声明：以下内容仅供技术学习</h6><p>简述：爬取 <a href="https://www.pengfu.com" target="_blank" rel="noopener">捧腹网 </a> 中的 <a href="https://www.pengfu.com/xiaohua_1.html" target="_blank" rel="noopener">段子</a>页面数据及每一条数据所链接的 <a href="https://www.pengfu.com/content_1857807_1.html" target="_blank" rel="noopener">笑话详情页</a>。</p><a id="more"></a><h5 id="步骤如下"><a href="#步骤如下" class="headerlink" title="步骤如下"></a>步骤如下</h5><p>以第一页（<a href="https://www.pengfu.com/xiaohua_1.html）" target="_blank" rel="noopener">https://www.pengfu.com/xiaohua_1.html）</a> 举例</p><p>1: 爬取第一页的内容，获取里面每一个笑话的链接;</p><p>2: 爬取步骤1获取到的笑话链接的内容，解析笑话标题和内容</p><p>3: 将每一页爬取到的标题和内容写入到文件中</p><p><code>代买示例如下</code></p><figure class="highlight golang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">"fmt"</span></span><br><span class="line">    <span class="string">"strconv"</span></span><br><span class="line">    <span class="string">"net/http"</span></span><br><span class="line">    <span class="string">"io"</span></span><br><span class="line">    <span class="string">"regexp"</span></span><br><span class="line">    <span class="string">"strings"</span></span><br><span class="line">    <span class="string">"os"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">var</span> start <span class="keyword">int</span></span><br><span class="line">    <span class="keyword">var</span> end <span class="keyword">int</span></span><br><span class="line">    fmt.Print(<span class="string">"请输入爬取的起始页: "</span>)</span><br><span class="line">    fmt.Scan(&amp;start)</span><br><span class="line">    fmt.Print(<span class="string">"请输入爬取的结束页: "</span>)</span><br><span class="line">    fmt.Scan(&amp;end)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//爬取业务逻辑</span></span><br><span class="line">    pengfuWorking(start, end)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">pengfuWorking</span><span class="params">(start, end <span class="keyword">int</span>)</span></span> &#123;</span><br><span class="line">    fmt.Println(start, <span class="string">":"</span>, end)</span><br><span class="line"></span><br><span class="line">    pageChan := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="keyword">int</span>)</span><br><span class="line">    <span class="keyword">for</span> i := start; i &lt;= end; i++ &#123;</span><br><span class="line">        <span class="comment">//开启协程</span></span><br><span class="line">        <span class="keyword">go</span> pengfuSpider(i, pageChan)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i := start; i &lt;= end; i++ &#123;</span><br><span class="line">        <span class="comment">//读取管道标识</span></span><br><span class="line">        fmt.Printf(<span class="string">"第 %d 页 爬取完成\n"</span>, &lt;-pageChan)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//抓取带有10个段子的url</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">pengfuSpider</span><span class="params">(i <span class="keyword">int</span>, pageChan <span class="keyword">chan</span> <span class="keyword">int</span>)</span></span> &#123;</span><br><span class="line">    <span class="comment">//https://www.pengfu.com/xiaohua_1.html</span></span><br><span class="line">    url := <span class="string">"https://www.pengfu.com/xiaohua_"</span> + strconv.Itoa(i) + <span class="string">".html"</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//抓取url中的内容</span></span><br><span class="line">    result, err := spiderUrlContent(url)</span><br><span class="line">    <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">        fmt.Println(<span class="string">"err message："</span>, err)</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//爬取每一页的段子</span></span><br><span class="line">    urlPat := regexp.MustCompile(<span class="string">`&lt;h1 class="dp-b"&gt;&lt;a href="(?s:(.*?))"`</span>)</span><br><span class="line">    urls := urlPat.FindAllStringSubmatch(result, <span class="number">-1</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//创建存储title,content 的切片</span></span><br><span class="line">    titleSlice := <span class="built_in">make</span>([]<span class="keyword">string</span>, <span class="number">0</span>)</span><br><span class="line">    contentSlice := <span class="built_in">make</span>([]<span class="keyword">string</span>, <span class="number">0</span>)</span><br><span class="line">    <span class="keyword">for</span> _, value := <span class="keyword">range</span> urls &#123;</span><br><span class="line">        url := value[<span class="number">1</span>]</span><br><span class="line">        title, content, err := spiderDetailContent(url)</span><br><span class="line">        <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">            fmt.Println(<span class="string">"spiderDetailContent error:"</span>, err)</span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line">        &#125;</span><br><span class="line">        titleSlice = <span class="built_in">append</span>(titleSlice, title)</span><br><span class="line">        contentSlice = <span class="built_in">append</span>(contentSlice, content)</span><br><span class="line">    &#125;</span><br><span class="line">    saveJokeToFile(i, titleSlice, contentSlice)</span><br><span class="line">    pageChan &lt;- i</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">spiderUrlContent</span><span class="params">(url <span class="keyword">string</span>)</span> <span class="params">(result <span class="keyword">string</span>, err error)</span></span> &#123;</span><br><span class="line">    resp, err1 := http.Get(url)</span><br><span class="line">    <span class="keyword">if</span> err1 != <span class="literal">nil</span> &#123;</span><br><span class="line">        err = err1</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">defer</span> resp.Body.Close()</span><br><span class="line"></span><br><span class="line">    buffer := <span class="built_in">make</span>([]<span class="keyword">byte</span>, <span class="number">8196</span>)</span><br><span class="line">    <span class="keyword">for</span> &#123;</span><br><span class="line">        n, err2 := resp.Body.Read(buffer)</span><br><span class="line">        <span class="keyword">if</span> n == <span class="number">0</span> &#123;</span><br><span class="line">            fmt.Println(<span class="string">"读取网页完成:"</span>, url)</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> err2 != <span class="literal">nil</span> &amp;&amp; err2 != io.EOF &#123;</span><br><span class="line">            err = err2</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        &#125;</span><br><span class="line">        result += <span class="keyword">string</span>(buffer[:n])</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//爬取一个笑话详情页的标题和内容</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">spiderDetailContent</span><span class="params">(url <span class="keyword">string</span>)</span> <span class="params">(title, content <span class="keyword">string</span>, err error)</span></span> &#123;</span><br><span class="line">    result, err1 := spiderUrlContent(url)</span><br><span class="line">    <span class="keyword">if</span> err1 != <span class="literal">nil</span> &#123;</span><br><span class="line">        err = err1</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//匹配标题</span></span><br><span class="line">    titlePat := regexp.MustCompile(<span class="string">`&lt;h1&gt;(?s:(.*?))\t*&lt;/h1&gt;`</span>)</span><br><span class="line">    titles := titlePat.FindAllStringSubmatch(result, <span class="number">1</span>)</span><br><span class="line">    title = titles[<span class="number">0</span>][<span class="number">1</span>]</span><br><span class="line">    title = strings.Trim(title, <span class="string">""</span>)</span><br><span class="line">    title = strings.Replace(title, <span class="string">"&amp;nbsp; "</span>, <span class="string">""</span>, <span class="number">-1</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//匹配内容</span></span><br><span class="line">    contentPat := regexp.MustCompile(<span class="string">`&lt;div class="content-txt pt10"&gt;\n*\t*(?s:(.*?))&lt;a`</span>)</span><br><span class="line">    contents := contentPat.FindAllStringSubmatch(result, <span class="number">1</span>)</span><br><span class="line">    content = contents[<span class="number">0</span>][<span class="number">1</span>]</span><br><span class="line">    content = strings.Trim(content, <span class="string">"\t"</span>)</span><br><span class="line">    content = strings.Replace(content, <span class="string">"\t"</span>, <span class="string">""</span>, <span class="number">-1</span>)</span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">saveJokeToFile</span><span class="params">(idx <span class="keyword">int</span>, titleSlice, contentSlice []<span class="keyword">string</span>)</span></span> &#123;</span><br><span class="line">    <span class="comment">//将读取到的数据存储存储为文件</span></span><br><span class="line">    dir, _ := os.Getwd()</span><br><span class="line">    filePath := dir + <span class="string">"/pengfu_"</span> + strconv.Itoa(idx) + <span class="string">".txt"</span></span><br><span class="line"></span><br><span class="line">    file, err := os.Create(filePath)</span><br><span class="line">    <span class="keyword">if</span> err != err &#123;</span><br><span class="line">        fmt.Println(<span class="string">"os Create err："</span>, err.Error())</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">defer</span> file.Close() <span class="comment">//保存好一个文件就关闭一个文件</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="built_in">len</span>(titleSlice); i++ &#123;</span><br><span class="line">        file.WriteString(titleSlice[i] + <span class="string">":\t\t"</span> + contentSlice[i] + <span class="string">"\n"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>爬取到的文本文件示例</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">会放坏:女：“我购物车里的那些水果牛奶饮料零食你赶紧给我买！” 男：“着什么急呀？” 女：“天越来越热了，会放坏的。”</span><br><span class="line">肉多舒服:楼主大四女生，这几天和同一宿舍的女生一起去找工作，在火车站，碰到一个大姐，带着一个四五岁的小男孩侯车，小男孩总是粘着我，要坐我腿上，同宿舍的女生很是羡慕我有人缘，我得意的问小男孩：“你为什么老是喜欢坐姐姐腿上？” 小男孩用稚嫩的口气回答：“姐姐腿上肉多，坐着舒服” 我：“尼玛，这是谁家小哔崽子，快点领走！”</span><br><span class="line">卸妆:一女人问大师：大师，在这么复杂险恶的世界，我一个弱女子如何保护自己？大师说：你把妆卸了！</span><br><span class="line">刺十字绣:家长对孩子的教育真的非常重要。有些男孩，小时候调皮的很，偷了邻居家一根针，家长也不管，一根针嘛，没事。结果孩子长大了，不好好学习每天呆在家里刺十字绣。</span><br><span class="line">约会:网上聊了一妹子，今天见面。问老妈要了二百块钱，老妈问我干嘛用，我说约会，她高高兴兴的就给了。刚出家门，老爸就把我拽到一边说“小子，二百块钱给我一百，半个月不知道烟的滋味了。”我说“爸，这是我和女朋友的约会钱，不能给你。”老爸说了。“你约什么会，那是我刚建的小号，为了抽颗烟我和你聊了半个月了，快拿来。‘’</span><br><span class="line">改配方了:70年代时，有一长辈练铁沙掌，功夫成了之后，可以掌断五砖，凌空碎砖，威风的不得了。 到80年代，只能掌断三砖。 到90年代只能一砖一砖的断了。 他说，一直以为功力退步了，后来才知道烧砖的配方改了。。。</span><br><span class="line">报恩:为什么古装剧里总是有女人会对恩人说：小女子无以为报，唯有以身相许，古代真的存在这种现象吗？ 扯淡，那是因为她喜欢他，要是不喜欢，她就会说：小女子无以为报，唯有来生再报了。</span><br><span class="line">问路:春节回老家时，看到一个老外在向一个农民伯伯问路。只见那个老外一边说着生硬的中文，一边用手笔划，但那个农民伯伯却还是不明白。最后，那个农民伯伯说了一句让我至今难忘的话：“Can you speak English?”</span><br><span class="line">老王:闺蜜是个韩剧迷，她老公是个球迷。某天晚上有球赛，他俩因为抢电视机遥控器打了起来。她一气之下找我哭诉，我问她：“电视遥控器最后归谁了?”她边哭边说：“老王。”我疑惑道：“这个老王是谁呀?我怎么没听说过。”她哭的声音更大了：“一个修电视机的……”</span><br><span class="line">丑的先说:两个女人在大街上吵架，那个骂的吐沫横飞啊。一大妈看不下去了，可谁也不听，都说自己对，对方错。大妈淡淡地来了一句：“那么这样，丑的先说!”瞬间，整个世界都安静了。。。</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;h6 id=&quot;声明：以下内容仅供技术学习&quot;&gt;&lt;a href=&quot;#声明：以下内容仅供技术学习&quot; class=&quot;headerlink&quot; title=&quot;声明：以下内容仅供技术学习&quot;&gt;&lt;/a&gt;声明：以下内容仅供技术学习&lt;/h6&gt;&lt;p&gt;简述：爬取 &lt;a href=&quot;https://www.pengfu.com&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;捧腹网 &lt;/a&gt; 中的 &lt;a href=&quot;https://www.pengfu.com/xiaohua_1.html&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;段子&lt;/a&gt;页面数据及每一条数据所链接的 &lt;a href=&quot;https://www.pengfu.com/content_1857807_1.html&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;笑话详情页&lt;/a&gt;。&lt;/p&gt;
    
    </summary>
    
      <category term="Golang" scheme="https://inscode.github.io/categories/Golang/"/>
    
    
      <category term="Go" scheme="https://inscode.github.io/tags/Go/"/>
    
      <category term="爬虫" scheme="https://inscode.github.io/tags/%E7%88%AC%E8%99%AB/"/>
    
  </entry>
  
  <entry>
    <title>Golang爬虫系列一：爬取豆瓣电影top250数据信息</title>
    <link href="https://inscode.github.io/2019/08/10/%E8%B1%86%E7%93%A3%E7%94%B5%E5%BD%B1top250%E6%95%B0%E6%8D%AE%E7%88%AC%E5%8F%96/"/>
    <id>https://inscode.github.io/2019/08/10/豆瓣电影top250数据爬取/</id>
    <published>2019-08-10T10:19:03.000Z</published>
    <updated>2019-08-12T13:53:21.656Z</updated>
    
    <content type="html"><![CDATA[<h6 id="声明：以下内容仅供技术学习"><a href="#声明：以下内容仅供技术学习" class="headerlink" title="声明：以下内容仅供技术学习"></a>声明：以下内容仅供技术学习</h6><p>简述：爬取豆瓣电影 <code>top 250</code> 的基础信息，包括电影🎬名，评分，评价人数，电影链接。</p><a id="more"></a><figure class="highlight golang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">     <span class="string">"fmt"</span></span><br><span class="line">     <span class="string">"strconv"</span></span><br><span class="line">     <span class="string">"net/http"</span></span><br><span class="line">     <span class="string">"io"</span></span><br><span class="line">     <span class="string">"regexp"</span></span><br><span class="line">     <span class="string">"os"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">     <span class="keyword">var</span> start <span class="keyword">int</span> <span class="comment">//起始页</span></span><br><span class="line">     <span class="keyword">var</span> end <span class="keyword">int</span>    <span class="comment">//结束页</span></span><br><span class="line">     fmt.Print(<span class="string">"请输入爬取的起始页:"</span>)</span><br><span class="line">     fmt.Scanln(&amp;start)</span><br><span class="line">     fmt.Print(<span class="string">"请输入爬取的结束页:"</span>)</span><br><span class="line">     fmt.Scanln(&amp;end)</span><br><span class="line">     toWorking(start, end)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">toWorking</span><span class="params">(start, end <span class="keyword">int</span>)</span></span> &#123;</span><br><span class="line">     fmt.Printf(<span class="string">"起始结束页是%d : %d\n"</span>, start, end)</span><br><span class="line"></span><br><span class="line">     pageChan := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="keyword">int</span>)</span><br><span class="line">     <span class="keyword">for</span> i := start; i &lt;= end; i++ &#123;</span><br><span class="line">          <span class="keyword">go</span> SpiderDoubanPage(i, pageChan)</span><br><span class="line">     &#125;</span><br><span class="line"></span><br><span class="line">     <span class="keyword">for</span> i := start; i &lt;= end; i++ &#123;</span><br><span class="line">          <span class="comment">//开启协程</span></span><br><span class="line">          fmt.Printf(<span class="string">"第 %d 页 爬取完成\n"</span>, &lt;-pageChan)</span><br><span class="line">     &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">SpiderDoubanPage</span><span class="params">(i <span class="keyword">int</span>, pageChan <span class="keyword">chan</span> <span class="keyword">int</span>)</span></span> &#123;</span><br><span class="line">     <span class="comment">//https://movie.douban.com/top250?start=0&amp;filter=</span></span><br><span class="line">     <span class="comment">//https://movie.douban.com/top250?start=25&amp;filter=</span></span><br><span class="line">     <span class="comment">//https://movie.douban.com/top250?start=50&amp;filter=</span></span><br><span class="line">     url := <span class="string">"https://movie.douban.com/top250?start="</span> + strconv.Itoa((i<span class="number">-1</span>)*<span class="number">25</span>)</span><br><span class="line"></span><br><span class="line">     <span class="comment">//爬取url页面内容【横向爬取】</span></span><br><span class="line">     result, err := httpGetDoubanUrlContent(url)</span><br><span class="line">     <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">          fmt.Println(<span class="string">"err message："</span>, err)</span><br><span class="line">          <span class="keyword">return</span></span><br><span class="line">     &#125;</span><br><span class="line"></span><br><span class="line">     <span class="comment">//fmt.Println(result)</span></span><br><span class="line">     <span class="comment">//使用正则表达式解析内容---电影名称</span></span><br><span class="line">     film_pat := regexp.MustCompile(<span class="string">`width="100" alt="(.*?)"`</span>)</span><br><span class="line">     FilmNames := film_pat.FindAllStringSubmatch(result, <span class="number">-1</span>)</span><br><span class="line"></span><br><span class="line">     <span class="comment">//使用正则表达式解析内容---电影分数</span></span><br><span class="line">     score_pat := regexp.MustCompile(<span class="string">`v:average"&gt;(?s:(.*?))&lt;`</span>)</span><br><span class="line">     filmScores := score_pat.FindAllStringSubmatch(result, <span class="number">-1</span>)</span><br><span class="line"></span><br><span class="line">     <span class="comment">//使用正则表达式解析内容---评价人数</span></span><br><span class="line">     people_pat := regexp.MustCompile(<span class="string">`&lt;span&gt;(?s:(\d*?))人评价&lt;/span&gt;`</span>)</span><br><span class="line">     peopleNum := people_pat.FindAllStringSubmatch(result, <span class="number">-1</span>)</span><br><span class="line"></span><br><span class="line">     <span class="comment">//使用正则表达式解析内容---电影详情页url</span></span><br><span class="line">     film_url_pat := regexp.MustCompile(<span class="string">`&lt;a href="(.*?)" class=""&gt;`</span>)</span><br><span class="line">     filmUrls := film_url_pat.FindAllStringSubmatch(result, <span class="number">-1</span>)</span><br><span class="line"></span><br><span class="line">     <span class="comment">//使用正则表达式解析内容---电影序号</span></span><br><span class="line">     film_order_pat := regexp.MustCompile(<span class="string">`&lt;em class=""&gt;(\d*)&lt;/em&gt;`</span>)</span><br><span class="line">     filmOrders := film_order_pat.FindAllStringSubmatch(result, <span class="number">-1</span>)</span><br><span class="line"></span><br><span class="line">     saveToFile(i, filmOrders, FilmNames, filmScores, peopleNum, filmUrls)</span><br><span class="line"></span><br><span class="line">     pageChan &lt;- i</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">httpGetDoubanUrlContent</span><span class="params">(url <span class="keyword">string</span>)</span> <span class="params">(result <span class="keyword">string</span>, err error)</span></span> &#123;</span><br><span class="line">     resp, err1 := http.Get(url)</span><br><span class="line">     <span class="keyword">if</span> err1 != <span class="literal">nil</span> &#123;</span><br><span class="line">          err = err1</span><br><span class="line">          <span class="keyword">return</span></span><br><span class="line">     &#125;</span><br><span class="line"></span><br><span class="line">     <span class="keyword">defer</span> resp.Body.Close()</span><br><span class="line"></span><br><span class="line">     buffer := <span class="built_in">make</span>([]<span class="keyword">byte</span>, <span class="number">8192</span>)</span><br><span class="line">     <span class="keyword">for</span> &#123;</span><br><span class="line">          n, err2 := resp.Body.Read(buffer)</span><br><span class="line">          <span class="keyword">if</span> n == <span class="number">0</span> &#123;</span><br><span class="line">                fmt.Println(<span class="string">"读取网页完成"</span>)</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">          &#125;</span><br><span class="line"></span><br><span class="line">          <span class="keyword">if</span> err2 != <span class="literal">nil</span> &amp;&amp; err2 != io.EOF &#123;</span><br><span class="line">                err = err2</span><br><span class="line">                <span class="keyword">return</span></span><br><span class="line">          &#125;</span><br><span class="line">          result += <span class="keyword">string</span>(buffer[:n])</span><br><span class="line">     &#125;</span><br><span class="line">     <span class="keyword">return</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">saveToFile</span><span class="params">(idx <span class="keyword">int</span>, filmOrders, filmNames, filmScores, peopleNum, filmUrls [][]<span class="keyword">string</span>)</span></span> &#123;</span><br><span class="line">     <span class="comment">//将读取到的数据存储存储为文件</span></span><br><span class="line">     dir, _ := os.Getwd()</span><br><span class="line">     filePath := dir + <span class="string">"douban_top_"</span> + strconv.Itoa(idx) + <span class="string">".txt"</span></span><br><span class="line"></span><br><span class="line">     file, err := os.Create(filePath)</span><br><span class="line">     <span class="keyword">if</span> err != err &#123;</span><br><span class="line">          fmt.Println(<span class="string">"os Create err："</span>, err.Error())</span><br><span class="line">          <span class="keyword">return</span></span><br><span class="line">     &#125;</span><br><span class="line"></span><br><span class="line">     <span class="keyword">defer</span> file.Close() <span class="comment">//保存好一个文件就关闭一个文件</span></span><br><span class="line"></span><br><span class="line">     file.WriteString(</span><br><span class="line">          <span class="string">"序号"</span> +</span><br><span class="line">                <span class="string">"\t"</span> + <span class="string">"电影名称"</span> +</span><br><span class="line">                <span class="string">"\t"</span> + <span class="string">"电影评分"</span> +</span><br><span class="line">                <span class="string">"\t"</span> + <span class="string">"评价人数"</span> +</span><br><span class="line">                <span class="string">"\t"</span> + <span class="string">"链接地址"</span> +</span><br><span class="line">                <span class="string">"\n"</span>)</span><br><span class="line">     <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="built_in">len</span>(filmNames); i++ &#123;</span><br><span class="line">          file.WriteString(</span><br><span class="line">                filmOrders[i][<span class="number">1</span>] +</span><br><span class="line">                     <span class="string">"\t"</span> + filmNames[i][<span class="number">1</span>] +</span><br><span class="line">                     <span class="string">"\t"</span> + filmScores[i][<span class="number">1</span>] +</span><br><span class="line">                     <span class="string">"\t"</span> + peopleNum[i][<span class="number">1</span>] +</span><br><span class="line">                     <span class="string">"\t"</span> + filmUrls[i][<span class="number">1</span>] +</span><br><span class="line">                     <span class="string">"\n"</span>)</span><br><span class="line">     &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="使用-linux-命令合并爬取的文件"><a href="#使用-linux-命令合并爬取的文件" class="headerlink" title="使用 linux 命令合并爬取的文件"></a>使用 <code>linux</code> 命令合并爬取的文件</h5><ul><li><p><code>cat crawlerdouban_top_*.txt&gt;top250.txt</code> //文件合并</p></li><li><p><code>cat top250.txt |grep -v &#39;序号&#39;&gt;douban_top250_movie_list.txt</code> //去取指定内容</p></li><li><p><code>sort -k 1 -n douban_top250_movie_list.txt&gt;douban_top250_movie_list_ordered.txt</code> //排序</p></li><li><p>看心情在文件头部加上 <code>序号     电影名称     电影评分     评价人数     链接地址</code></p></li><li><p>结果如下</p></li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br></pre></td><td class="code"><pre><span class="line">序号     电影名称     电影评分     评价人数     链接地址</span><br><span class="line">1    肖申克的救赎    9.7    1535695    https://movie.douban.com/subject/1292052/</span><br><span class="line">2    霸王别姬    9.6    1136522    https://movie.douban.com/subject/1291546/</span><br><span class="line">3    这个杀手不太冷    9.4    1388824    https://movie.douban.com/subject/1295644/</span><br><span class="line">4    阿甘正传    9.4    1199279    https://movie.douban.com/subject/1292720/</span><br><span class="line">5    美丽人生    9.5    702825    https://movie.douban.com/subject/1292063/</span><br><span class="line">6    千与千寻    9.3    1231099    https://movie.douban.com/subject/1291561/</span><br><span class="line">7    泰坦尼克号    9.4    1140842    https://movie.douban.com/subject/1292722/</span><br><span class="line">8    辛德勒的名单    9.5    623915    https://movie.douban.com/subject/1295124/</span><br><span class="line">9    盗梦空间    9.3    1189561    https://movie.douban.com/subject/3541415/</span><br><span class="line">10    忠犬八公的故事    9.3    795328    https://movie.douban.com/subject/3011091/</span><br><span class="line">11    机器人总动员    9.3    788458    https://movie.douban.com/subject/2131459/</span><br><span class="line">12    三傻大闹宝莱坞    9.2    1075170    https://movie.douban.com/subject/3793023/</span><br><span class="line">13    放牛班的春天    9.3    748223    https://movie.douban.com/subject/1291549/</span><br><span class="line">14    海上钢琴师    9.2    872907    https://movie.douban.com/subject/1292001/</span><br><span class="line">15    楚门的世界    9.2    832134    https://movie.douban.com/subject/1292064/</span><br><span class="line">16    大话西游之大圣娶亲    9.2    835440    https://movie.douban.com/subject/1292213/</span><br><span class="line">17    星际穿越    9.3    854952    https://movie.douban.com/subject/1889243/</span><br><span class="line">18    龙猫    9.2    739493    https://movie.douban.com/subject/1291560/</span><br><span class="line">19    熔炉    9.3    492270    https://movie.douban.com/subject/5912992/</span><br><span class="line">20    教父    9.3    536821    https://movie.douban.com/subject/1291841/</span><br><span class="line">21    无间道    9.2    686756    https://movie.douban.com/subject/1307914/</span><br><span class="line">22    疯狂动物城    9.2    961506    https://movie.douban.com/subject/25662329/</span><br><span class="line">23    当幸福来敲门    9.1    870538    https://movie.douban.com/subject/1849031/</span><br><span class="line">24    怦然心动    9.0    971877    https://movie.douban.com/subject/3319755/</span><br><span class="line">25    触不可及    9.2    569502    https://movie.douban.com/subject/6786002/</span><br><span class="line">26    蝙蝠侠：黑暗骑士    9.1    561534    https://movie.douban.com/subject/1851857/</span><br><span class="line">27    乱世佳人    9.3    394279    https://movie.douban.com/subject/1300267/</span><br><span class="line">28    活着    9.2    444310    https://movie.douban.com/subject/1292365/</span><br><span class="line">29    控方证人    9.6    199996    https://movie.douban.com/subject/1296141/</span><br><span class="line">30    少年派的奇幻漂流    9.0    854147    https://movie.douban.com/subject/1929463/</span><br><span class="line">31    指环王3：王者无敌    9.2    432241    https://movie.douban.com/subject/1291552/</span><br><span class="line">32    摔跤吧！爸爸    9.0    848439    https://movie.douban.com/subject/26387939/</span><br><span class="line">33    天空之城    9.1    507243    https://movie.douban.com/subject/1291583/</span><br><span class="line">34    鬼子来了    9.2    361061    https://movie.douban.com/subject/1291858/</span><br><span class="line">35    十二怒汉    9.4    257052    https://movie.douban.com/subject/1293182/</span><br><span class="line">36    天堂电影院    9.2    416891    https://movie.douban.com/subject/1291828/</span><br><span class="line">37    飞屋环游记    9.0    773645    https://movie.douban.com/subject/2129039/</span><br><span class="line">38    大话西游之月光宝盒    9.0    675104    https://movie.douban.com/subject/1299398/</span><br><span class="line">39    哈尔的移动城堡    9.0    570115    https://movie.douban.com/subject/1308807/</span><br><span class="line">40    搏击俱乐部    9.0    543030    https://movie.douban.com/subject/1292000/</span><br><span class="line">41    罗马假日    9.0    576438    https://movie.douban.com/subject/1293839/</span><br><span class="line">42    末代皇帝    9.2    354693    https://movie.douban.com/subject/1293172/</span><br><span class="line">43    寻梦环游记    9.0    811262    https://movie.douban.com/subject/20495023/</span><br><span class="line">44    闻香识女人    9.0    493633    https://movie.douban.com/subject/1298624/</span><br><span class="line">45    辩护人    9.2    340911    https://movie.douban.com/subject/21937445/</span><br><span class="line">46    素媛    9.2    322715    https://movie.douban.com/subject/21937452/</span><br><span class="line">47    窃听风暴    9.1    340301    https://movie.douban.com/subject/1900841/</span><br><span class="line">48    死亡诗社    9.0    414748    https://movie.douban.com/subject/1291548/</span><br><span class="line">49    两杆大烟枪    9.1    369786    https://movie.douban.com/subject/1293350/</span><br><span class="line">50    飞越疯人院    9.1    373765    https://movie.douban.com/subject/1292224/</span><br><span class="line">51    指环王2：双塔奇兵    9.0    405233    https://movie.douban.com/subject/1291572/</span><br><span class="line">52    教父2    9.2    291589    https://movie.douban.com/subject/1299131/</span><br><span class="line">53    指环王1：魔戒再现    9.0    454776    https://movie.douban.com/subject/1291571/</span><br><span class="line">54    狮子王    9.0    441123    https://movie.douban.com/subject/1301753/</span><br><span class="line">55    V字仇杀队    8.9    634942    https://movie.douban.com/subject/1309046/</span><br><span class="line">56    美丽心灵    9.0    442940    https://movie.douban.com/subject/1306029/</span><br><span class="line">57    饮食男女    9.1    312944    https://movie.douban.com/subject/1291818/</span><br><span class="line">58    海豚湾    9.3    246512    https://movie.douban.com/subject/3442220/</span><br><span class="line">59    情书    8.9    544709    https://movie.douban.com/subject/1292220/</span><br><span class="line">60    何以为家    9.1    353458    https://movie.douban.com/subject/30170448/</span><br><span class="line">61    钢琴家    9.1    293055    https://movie.douban.com/subject/1296736/</span><br><span class="line">62    大闹天宫    9.3    190080    https://movie.douban.com/subject/1418019/</span><br><span class="line">63    本杰明·巴顿奇事    8.9    577017    https://movie.douban.com/subject/1485260/</span><br><span class="line">64    哈利·波特与魔法石    8.9    466720    https://movie.douban.com/subject/1295038/</span><br><span class="line">65    看不见的客人    8.8    635451    https://movie.douban.com/subject/26580232/</span><br><span class="line">66    黑客帝国    8.9    434713    https://movie.douban.com/subject/1291843/</span><br><span class="line">67    西西里的美丽传说    8.8    552815    https://movie.douban.com/subject/1292402/</span><br><span class="line">68    小鞋子    9.2    218270    https://movie.douban.com/subject/1303021/</span><br><span class="line">69    美国往事    9.2    248262    https://movie.douban.com/subject/1292262/</span><br><span class="line">70    拯救大兵瑞恩    9.0    370031    https://movie.douban.com/subject/1292849/</span><br><span class="line">71    让子弹飞    8.8    937467    https://movie.douban.com/subject/3742360/</span><br><span class="line">72    音乐之声    9.0    340645    https://movie.douban.com/subject/1294408/</span><br><span class="line">73    致命魔术    8.8    497893    https://movie.douban.com/subject/1780330/</span><br><span class="line">74    猫鼠游戏    8.9    404409    https://movie.douban.com/subject/1305487/</span><br><span class="line">75    七宗罪    8.8    593674    https://movie.douban.com/subject/1292223/</span><br><span class="line">76    被嫌弃的松子的一生    8.9    445775    https://movie.douban.com/subject/1787291/</span><br><span class="line">77    低俗小说    8.8    494334    https://movie.douban.com/subject/1291832/</span><br><span class="line">78    沉默的羔羊    8.8    497708    https://movie.douban.com/subject/1293544/</span><br><span class="line">79    蝴蝶效应    8.8    548478    https://movie.douban.com/subject/1292343/</span><br><span class="line">80    春光乍泄    8.9    367593    https://movie.douban.com/subject/1292679/</span><br><span class="line">81    勇敢的心    8.9    388081    https://movie.douban.com/subject/1294639/</span><br><span class="line">82    天使爱美丽    8.7    657882    https://movie.douban.com/subject/1292215/</span><br><span class="line">83    穿条纹睡衣的男孩    9.0    256883    https://movie.douban.com/subject/3008247/</span><br><span class="line">84    剪刀手爱德华    8.7    675841    https://movie.douban.com/subject/1292370/</span><br><span class="line">85    心灵捕手    8.8    402941    https://movie.douban.com/subject/1292656/</span><br><span class="line">86    禁闭岛    8.8    537386    https://movie.douban.com/subject/2334904/</span><br><span class="line">87    布达佩斯大饭店    8.8    500379    https://movie.douban.com/subject/11525673/</span><br><span class="line">88    阿凡达    8.7    787025    https://movie.douban.com/subject/1652587/</span><br><span class="line">89    入殓师    8.8    401708    https://movie.douban.com/subject/2149806/</span><br><span class="line">90    幽灵公主    8.9    336781    https://movie.douban.com/subject/1297359/</span><br><span class="line">91    加勒比海盗    8.7    519035    https://movie.douban.com/subject/1298070/</span><br><span class="line">92    摩登时代    9.3    148862    https://movie.douban.com/subject/1294371/</span><br><span class="line">93    致命ID    8.7    455343    https://movie.douban.com/subject/1297192/</span><br><span class="line">94    断背山    8.7    448806    https://movie.douban.com/subject/1418834/</span><br><span class="line">95    阳光灿烂的日子    8.8    379539    https://movie.douban.com/subject/1291875/</span><br><span class="line">96    重庆森林    8.7    471704    https://movie.douban.com/subject/1291999/</span><br><span class="line">97    第六感    8.8    326415    https://movie.douban.com/subject/1297630/</span><br><span class="line">98    狩猎    9.1    196797    https://movie.douban.com/subject/6985810/</span><br><span class="line">99    喜剧之王    8.7    513460    https://movie.douban.com/subject/1302425/</span><br><span class="line">100    玛丽和马克思    8.9    290154    https://movie.douban.com/subject/3072124/</span><br><span class="line">101    消失的爱人    8.7    525034    https://movie.douban.com/subject/21318488/</span><br><span class="line">102    告白    8.7    467513    https://movie.douban.com/subject/4268598/</span><br><span class="line">103    小森林 夏秋篇    9.0    226137    https://movie.douban.com/subject/25814705/</span><br><span class="line">104    大鱼    8.8    347484    https://movie.douban.com/subject/1291545/</span><br><span class="line">105    一一    9.0    210191    https://movie.douban.com/subject/1292434/</span><br><span class="line">106    阳光姐妹淘    8.8    378032    https://movie.douban.com/subject/4917726/</span><br><span class="line">107    爱在黎明破晓前    8.8    326958    https://movie.douban.com/subject/1296339/</span><br><span class="line">108    请以你的名字呼唤我    8.8    327024    https://movie.douban.com/subject/26799731/</span><br><span class="line">109    射雕英雄传之东成西就    8.7    384745    https://movie.douban.com/subject/1316510/</span><br><span class="line">110    甜蜜蜜    8.8    307227    https://movie.douban.com/subject/1305164/</span><br><span class="line">111    侧耳倾听    8.9    256439    https://movie.douban.com/subject/1297052/</span><br><span class="line">112    红辣椒    8.9    210659    https://movie.douban.com/subject/1865703/</span><br><span class="line">113    驯龙高手    8.7    438648    https://movie.douban.com/subject/2353023/</span><br><span class="line">114    倩女幽魂    8.7    399855    https://movie.douban.com/subject/1297447/</span><br><span class="line">115    超脱    8.8    256836    https://movie.douban.com/subject/5322596/</span><br><span class="line">116    杀人回忆    8.8    314334    https://movie.douban.com/subject/1300299/</span><br><span class="line">117    海蒂和爷爷    9.1    142601    https://movie.douban.com/subject/25958717/</span><br><span class="line">118    恐怖直播    8.7    349058    https://movie.douban.com/subject/21360417/</span><br><span class="line">119    菊次郎的夏天    8.8    284490    https://movie.douban.com/subject/1293359/</span><br><span class="line">120    爱在日落黄昏时    8.8    285141    https://movie.douban.com/subject/1291990/</span><br><span class="line">121    7号房的礼物    8.8    276596    https://movie.douban.com/subject/10777687/</span><br><span class="line">122    小森林 冬春篇    9.0    196346    https://movie.douban.com/subject/25814707/</span><br><span class="line">123    风之谷    8.8    246043    https://movie.douban.com/subject/1291585/</span><br><span class="line">124    哈利·波特与死亡圣器(下)    8.7    408422    https://movie.douban.com/subject/3011235/</span><br><span class="line">125    我不是药神    9.0    1181641    https://movie.douban.com/subject/26752088/</span><br><span class="line">126    幸福终点站    8.7    310524    https://movie.douban.com/subject/1292274/</span><br><span class="line">127    蝙蝠侠：黑暗骑士崛起    8.7    415939    https://movie.douban.com/subject/3395373/</span><br><span class="line">128    上帝之城    8.9    200345    https://movie.douban.com/subject/1292208/</span><br><span class="line">129    萤火之森    8.8    261708    https://movie.douban.com/subject/5989818/</span><br><span class="line">130    借东西的小人阿莉埃蒂    8.8    308863    https://movie.douban.com/subject/4202302/</span><br><span class="line">131    超能陆战队    8.6    565299    https://movie.douban.com/subject/11026735/</span><br><span class="line">132    唐伯虎点秋香    8.5    545655    https://movie.douban.com/subject/1306249/</span><br><span class="line">133    神偷奶爸    8.5    572719    https://movie.douban.com/subject/3287562/</span><br><span class="line">134    无人知晓    9.1    133082    https://movie.douban.com/subject/1292337/</span><br><span class="line">135    怪兽电力公司    8.7    363701    https://movie.douban.com/subject/1291579/</span><br><span class="line">136    电锯惊魂    8.7    287704    https://movie.douban.com/subject/1417598/</span><br><span class="line">137    岁月神偷    8.7    394423    https://movie.douban.com/subject/3792799/</span><br><span class="line">138    玩具总动员3    8.8    278994    https://movie.douban.com/subject/1858711/</span><br><span class="line">139    血战钢锯岭    8.7    472814    https://movie.douban.com/subject/26325320/</span><br><span class="line">140    谍影重重3    8.8    254835    https://movie.douban.com/subject/1578507/</span><br><span class="line">141    疯狂原始人    8.7    518689    https://movie.douban.com/subject/1907966/</span><br><span class="line">142    七武士    9.2    108944    https://movie.douban.com/subject/1295399/</span><br><span class="line">143    英雄本色    8.7    276917    https://movie.douban.com/subject/1297574/</span><br><span class="line">144    喜宴    8.9    195228    https://movie.douban.com/subject/1303037/</span><br><span class="line">145    真爱至上    8.6    430547    https://movie.douban.com/subject/1292401/</span><br><span class="line">146    萤火虫之墓    8.7    272296    https://movie.douban.com/subject/1293318/</span><br><span class="line">147    东邪西毒    8.6    362487    https://movie.douban.com/subject/1292328/</span><br><span class="line">148    傲慢与偏见    8.5    430151    https://movie.douban.com/subject/1418200/</span><br><span class="line">149    时空恋旅人    8.7    302907    https://movie.douban.com/subject/10577869/</span><br><span class="line">150    贫民窟的百万富翁    8.6    497991    https://movie.douban.com/subject/2209573/</span><br><span class="line">151    黑天鹅    8.5    549429    https://movie.douban.com/subject/1978709/</span><br><span class="line">152    记忆碎片    8.6    373474    https://movie.douban.com/subject/1304447/</span><br><span class="line">153    心迷宫    8.7    274327    https://movie.douban.com/subject/25917973/</span><br><span class="line">154    纵横四海    8.8    226602    https://movie.douban.com/subject/1295409/</span><br><span class="line">155    教父3    8.8    191865    https://movie.douban.com/subject/1294240/</span><br><span class="line">156    荒蛮故事    8.8    223635    https://movie.douban.com/subject/24750126/</span><br><span class="line">157    完美的世界    9.1    123076    https://movie.douban.com/subject/1300992/</span><br><span class="line">158    达拉斯买家俱乐部    8.7    264828    https://movie.douban.com/subject/1793929/</span><br><span class="line">159    雨人    8.7    267637    https://movie.douban.com/subject/1291870/</span><br><span class="line">160    三块广告牌    8.7    493952    https://movie.douban.com/subject/26611804/</span><br><span class="line">161    花样年华    8.6    337477    https://movie.douban.com/subject/1291557/</span><br><span class="line">162    被解救的姜戈    8.7    357721    https://movie.douban.com/subject/6307447/</span><br><span class="line">163    卢旺达饭店    8.9    161524    https://movie.douban.com/subject/1291822/</span><br><span class="line">164    你的名字。    8.4    757251    https://movie.douban.com/subject/26683290/</span><br><span class="line">165    海边的曼彻斯特    8.6    294826    https://movie.douban.com/subject/25980443/</span><br><span class="line">166    我是山姆    8.9    155512    https://movie.douban.com/subject/1306861/</span><br><span class="line">167    头脑特工队    8.7    340013    https://movie.douban.com/subject/10533913/</span><br><span class="line">168    你看起来好像很好吃    8.8    202385    https://movie.douban.com/subject/4848115/</span><br><span class="line">169    恋恋笔记本    8.5    385616    https://movie.douban.com/subject/1309163/</span><br><span class="line">170    哪吒闹海    9.0    129640    https://movie.douban.com/subject/1307315/</span><br><span class="line">171    无敌破坏王    8.7    306834    https://movie.douban.com/subject/6534248/</span><br><span class="line">172    虎口脱险    8.9    141090    https://movie.douban.com/subject/1296909/</span><br><span class="line">173    冰川时代    8.5    379209    https://movie.douban.com/subject/1291578/</span><br><span class="line">174    二十二    8.7    168873    https://movie.douban.com/subject/26430107/</span><br><span class="line">175    海洋    9.0    116507    https://movie.douban.com/subject/3443389/</span><br><span class="line">176    雨中曲    9.0    125013    https://movie.douban.com/subject/1293460/</span><br><span class="line">177    爆裂鼓手    8.7    324492    https://movie.douban.com/subject/25773932/</span><br><span class="line">178    未麻的部屋    8.9    147477    https://movie.douban.com/subject/1395091/</span><br><span class="line">179    模仿游戏    8.6    355368    https://movie.douban.com/subject/10463953/</span><br><span class="line">180    一个叫欧维的男人决定去死    8.8    195643    https://movie.douban.com/subject/26628357/</span><br><span class="line">181    忠犬八公物语    9.1    96747    https://movie.douban.com/subject/1959195/</span><br><span class="line">182    燃情岁月    8.8    185142    https://movie.douban.com/subject/1295865/</span><br><span class="line">183    人工智能    8.6    258634    https://movie.douban.com/subject/1302827/</span><br><span class="line">184    魔女宅急便    8.6    281054    https://movie.douban.com/subject/1307811/</span><br><span class="line">185    房间    8.8    229618    https://movie.douban.com/subject/25724855/</span><br><span class="line">186    穿越时空的少女    8.6    250139    https://movie.douban.com/subject/1937946/</span><br><span class="line">187    天书奇谭    9.1    91667    https://movie.douban.com/subject/1428581/</span><br><span class="line">188    恐怖游轮    8.4    459129    https://movie.douban.com/subject/3011051/</span><br><span class="line">189    魂断蓝桥    8.8    164770    https://movie.douban.com/subject/1293964/</span><br><span class="line">190    黑客帝国3：矩阵革命    8.7    225709    https://movie.douban.com/subject/1302467/</span><br><span class="line">191    海街日记    8.7    214152    https://movie.douban.com/subject/25895901/</span><br><span class="line">192    猜火车    8.5    306564    https://movie.douban.com/subject/1292528/</span><br><span class="line">193    罗生门    8.8    175470    https://movie.douban.com/subject/1291879/</span><br><span class="line">194    完美陌生人    8.5    333893    https://movie.douban.com/subject/26614893/</span><br><span class="line">195    阿飞正传    8.5    295833    https://movie.douban.com/subject/1305690/</span><br><span class="line">196    头号玩家    8.7    823877    https://movie.douban.com/subject/4920389/</span><br><span class="line">197    香水    8.5    362383    https://movie.douban.com/subject/1760622/</span><br><span class="line">198    功夫    8.4    465611    https://movie.douban.com/subject/1291543/</span><br><span class="line">199    可可西里    8.7    171199    https://movie.douban.com/subject/1308857/</span><br><span class="line">200    朗读者    8.5    333438    https://movie.douban.com/subject/2213597/</span><br><span class="line">201    谍影重重2    8.6    219036    https://movie.douban.com/subject/1308767/</span><br><span class="line">202    浪潮    8.7    173378    https://movie.douban.com/subject/2297265/</span><br><span class="line">203    牯岭街少年杀人事件    8.8    149429    https://movie.douban.com/subject/1292329/</span><br><span class="line">204    谍影重重    8.6    261073    https://movie.douban.com/subject/1304102/</span><br><span class="line">205    战争之王    8.6    224942    https://movie.douban.com/subject/1419936/</span><br><span class="line">206    地球上的星星    8.9    120790    https://movie.douban.com/subject/2363506/</span><br><span class="line">207    疯狂的石头    8.4    452026    https://movie.douban.com/subject/1862151/</span><br><span class="line">208    初恋这件小事    8.3    633902    https://movie.douban.com/subject/4739952/</span><br><span class="line">209    青蛇    8.5    303900    https://movie.douban.com/subject/1303394/</span><br><span class="line">210    惊魂记    8.9    120359    https://movie.douban.com/subject/1293181/</span><br><span class="line">211    终结者2：审判日    8.6    198690    https://movie.douban.com/subject/1291844/</span><br><span class="line">212    源代码    8.4    520617    https://movie.douban.com/subject/3075287/</span><br><span class="line">213    爱在午夜降临前    8.8    167120    https://movie.douban.com/subject/10808442/</span><br><span class="line">214    步履不停    8.8    139427    https://movie.douban.com/subject/2222996/</span><br><span class="line">215    新龙门客栈    8.5    258004    https://movie.douban.com/subject/1292287/</span><br><span class="line">216    奇迹男孩    8.6    323039    https://movie.douban.com/subject/26787574/</span><br><span class="line">217    小萝莉的猴神大叔    8.5    271364    https://movie.douban.com/subject/26393561/</span><br><span class="line">218    追随    8.9    108391    https://movie.douban.com/subject/1397546/</span><br><span class="line">219    一次别离    8.7    168140    https://movie.douban.com/subject/5964718/</span><br><span class="line">220    无耻混蛋    8.5    294062    https://movie.douban.com/subject/1438652/</span><br><span class="line">221    再次出发之纽约遇见你    8.5    245335    https://movie.douban.com/subject/6874403/</span><br><span class="line">222    釜山行    8.4    561902    https://movie.douban.com/subject/25986180/</span><br><span class="line">223    血钻    8.6    196331    https://movie.douban.com/subject/1428175/</span><br><span class="line">224    东京物语    9.2    72955    https://movie.douban.com/subject/1291568/</span><br><span class="line">225    撞车    8.6    219372    https://movie.douban.com/subject/1388216/</span><br><span class="line">226    彗星来的那一夜    8.5    276087    https://movie.douban.com/subject/25807345/</span><br><span class="line">227    城市之光    9.3    65047    https://movie.douban.com/subject/1293908/</span><br><span class="line">228    2001太空漫游    8.7    149476    https://movie.douban.com/subject/1292226/</span><br><span class="line">229    梦之安魂曲    8.7    144757    https://movie.douban.com/subject/1292270/</span><br><span class="line">230    新世界    8.7    149430    https://movie.douban.com/subject/10437779/</span><br><span class="line">231    绿里奇迹    8.7    145109    https://movie.douban.com/subject/1300374/</span><br><span class="line">232    疯狂的麦克斯4：狂暴之路    8.6    296326    https://movie.douban.com/subject/3592854/</span><br><span class="line">233    聚焦    8.8    172697    https://movie.douban.com/subject/25954475/</span><br><span class="line">234    E.T. 外星人    8.5    211210    https://movie.douban.com/subject/1294638/</span><br><span class="line">235    这个男人来自地球    8.5    244977    https://movie.douban.com/subject/2300586/</span><br><span class="line">236    末路狂花    8.7    138086    https://movie.douban.com/subject/1291992/</span><br><span class="line">237    黑鹰坠落    8.6    169479    https://movie.douban.com/subject/1291824/</span><br><span class="line">238    发条橙    8.5    237973    https://movie.douban.com/subject/1292233/</span><br><span class="line">239    遗愿清单    8.6    191251    https://movie.douban.com/subject/1867345/</span><br><span class="line">240    变脸    8.4    272586    https://movie.douban.com/subject/1292659/</span><br><span class="line">241    勇闯夺命岛    8.6    182137    https://movie.douban.com/subject/1292728/</span><br><span class="line">242    国王的演讲    8.4    435891    https://movie.douban.com/subject/4023638/</span><br><span class="line">243    我爱你    9.0    84663    https://movie.douban.com/subject/5908478/</span><br><span class="line">244    黄金三镖客    9.1    71082    https://movie.douban.com/subject/1401118/</span><br><span class="line">245    千钧一发    8.7    131207    https://movie.douban.com/subject/1300117/</span><br><span class="line">246    非常嫌疑犯    8.6    163295    https://movie.douban.com/subject/1292214/</span><br><span class="line">247    秒速5厘米    8.3    412652    https://movie.douban.com/subject/2043546/</span><br><span class="line">248    驴得水    8.3    502838    https://movie.douban.com/subject/25921812/</span><br><span class="line">249    卡萨布兰卡    8.6    160541    https://movie.douban.com/subject/1296753/</span><br><span class="line">250    四个春天    8.9    87331    https://movie.douban.com/subject/27191492/</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;h6 id=&quot;声明：以下内容仅供技术学习&quot;&gt;&lt;a href=&quot;#声明：以下内容仅供技术学习&quot; class=&quot;headerlink&quot; title=&quot;声明：以下内容仅供技术学习&quot;&gt;&lt;/a&gt;声明：以下内容仅供技术学习&lt;/h6&gt;&lt;p&gt;简述：爬取豆瓣电影 &lt;code&gt;top 250&lt;/code&gt; 的基础信息，包括电影🎬名，评分，评价人数，电影链接。&lt;/p&gt;
    
    </summary>
    
      <category term="Golang" scheme="https://inscode.github.io/categories/Golang/"/>
    
    
      <category term="Go" scheme="https://inscode.github.io/tags/Go/"/>
    
      <category term="爬虫" scheme="https://inscode.github.io/tags/%E7%88%AC%E8%99%AB/"/>
    
  </entry>
  
  <entry>
    <title>PHP foreach循环使用&amp;引用的小坑</title>
    <link href="https://inscode.github.io/2019/08/07/PHP-foreach%E5%BE%AA%E7%8E%AF%E4%BD%BF%E7%94%A8-%E5%BC%95%E7%94%A8%E7%9A%84%E5%B0%8F%E5%9D%91/"/>
    <id>https://inscode.github.io/2019/08/07/PHP-foreach循环使用-引用的小坑/</id>
    <published>2019-08-07T07:00:55.000Z</published>
    <updated>2019-08-07T08:32:27.559Z</updated>
    
    <content type="html"><![CDATA[<p>源起：今天有小🔥伴发了一段 <code>PHP</code> 代码问执行结果和常规逻辑思考🤔结果为啥么不一样。代码如下，当时只是说和 <code>foreach</code> 使用 <code>&amp;</code> 有关。也没深入思考到底是什么关系，午睡过后，心血来潮的想搞搞这个问题，故做如下记录。<a id="more"></a></p><p><strong>小伙伴给的原始代码如下</strong></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line">    $arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">4</span>, <span class="number">8</span>];</span><br><span class="line">    <span class="keyword">foreach</span> ($arr <span class="keyword">as</span> &amp;$val) &#123;</span><br><span class="line">        <span class="comment">//四次循环迭代后依次输出 1, 2, 4, 8; 没任何毛病</span></span><br><span class="line">        <span class="keyword">echo</span> $val . PHP_EOL;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    print_r($arr);</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">"************************"</span> . PHP_EOL;</span><br><span class="line">    <span class="keyword">foreach</span> ($arr <span class="keyword">as</span> $val) &#123;</span><br><span class="line">        print_r($arr);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">echo</span> $val . PHP_EOL;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">"###################"</span> . PHP_EOL;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//echo 依次打印的是： 1，2，4，4 [(O_O)]?</span></span><br></pre></td></tr></table></figure><p><strong>代码执行结果如下图</strong></p><!--![](./PHP-foreach循环使用-引用的小坑/PHP-foreach循环使用-引用的小坑.jpeg)--><img src="/2019/08/07/PHP-foreach循环使用-引用的小坑/PHP-foreach循环使用-引用的小坑.jpeg" title="PHP-foreach循环使用-引用的小坑1"><p>那么问题来了，第一次输出 <code>1，2，4，8</code> 没有任何问题。但是，但是，但是为什么第二次输出的是 <code>1, 2, 4, 4</code> 而不是 <code>1、2 4、8</code> 呢？查询 <a href="https://www.php.net/manual/zh/control-structures.foreach.php" target="_blank" rel="noopener">PHP foreach 文档</a> 有辣么一句特别提醒</p><h6 id="Warning-数组最后一个元素的-value-引用在-foreach-循环之后仍会保留。建议使用-unset-来将其销毁。"><a href="#Warning-数组最后一个元素的-value-引用在-foreach-循环之后仍会保留。建议使用-unset-来将其销毁。" class="headerlink" title="Warning 数组最后一个元素的 $value 引用在 foreach 循环之后仍会保留。建议使用 unset() 来将其销毁。"></a><code>Warning 数组最后一个元素的 $value 引用在 foreach 循环之后仍会保留。建议使用 unset() 来将其销毁。</code></h6><p>看此提示，冥冥之中好像知道了答案。</p><ul><li>第一次 <code>foreach</code> 由于使用的是 <code>&amp; 引用赋值</code>，在循环完成后如果没有 <code>unset($val)</code> 会保留最后一个元素的 <code>$val引用</code></li></ul><ul><li>第二次 <code>foreach</code> 由于使用的和第一次同样的迭代变量 <code>$val</code>,  数组的最后一个元素 <code>$arr[3]</code> 和当前循环迭代值 <code>$val</code> 指向同一个变量地址，此时 <code>$val</code> 值改变时 <code>$arr[3]</code> 的值也跟着改变了。</li></ul><p><strong>用上图说明</strong></p><ul><li><p>原始数组为图中 <code>A区域</code> 数组</p></li><li><p>第 <code>0</code> 次循环迭代：最后一个元素 <code>$arr[3]</code> 和 <code>$val 即($arr[0])</code> 值相同。<code>$arr[3] = $val = 1</code>，如图中 <code>0区域</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Array</span><br><span class="line">(</span><br><span class="line">    [0] =&gt; 1</span><br><span class="line">    [1] =&gt; 2</span><br><span class="line">    [2] =&gt; 4</span><br><span class="line">    [3] =&gt; 1</span><br><span class="line">)</span><br><span class="line">第0次循环结果：1</span><br></pre></td></tr></table></figure></li><li><p>第 <code>1</code> 次循环迭代：最后一个元素 <code>$arr[3]</code> 和 <code>$val 即($arr[1])</code> 值相同。<code>$arr[3] = $val = 2</code>，如图中 <code>1区域</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Array</span><br><span class="line">(</span><br><span class="line">    [0] =&gt; 1</span><br><span class="line">    [1] =&gt; 2</span><br><span class="line">    [2] =&gt; 4</span><br><span class="line">    [3] =&gt; 2</span><br><span class="line">)</span><br><span class="line">第1次循环结果：2</span><br></pre></td></tr></table></figure></li><li><p>第 <code>2</code> 次循环迭代：最后一个元素 <code>$arr[3]</code> 和 <code>$val 即($arr[2])</code> 值相同。<code>$arr[3] = $val = 4</code>，如图中 <code>2区域</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Array</span><br><span class="line">(</span><br><span class="line">    [0] =&gt; 1</span><br><span class="line">    [1] =&gt; 2</span><br><span class="line">    [2] =&gt; 4</span><br><span class="line">    [3] =&gt; 4</span><br><span class="line">)</span><br><span class="line">第2次循环结果：4</span><br></pre></td></tr></table></figure></li><li><p>第 <code>3</code> 次循环迭代：最后一个元素 <code>$arr[3]</code> 和 <code>$val 即($arr[3])</code> 值相同。<code>$arr[3] = $val = 4</code>，如图中 <code>3区域</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Array</span><br><span class="line">(</span><br><span class="line">    [0] =&gt; 1</span><br><span class="line">    [1] =&gt; 2</span><br><span class="line">    [2] =&gt; 4</span><br><span class="line">    [3] =&gt; 4</span><br><span class="line">)</span><br><span class="line">第2次循环结果：4</span><br></pre></td></tr></table></figure></li><li><p>综上，第二次循环 <code>1, 2, 4, 4</code> 就是这么来的 😜</p></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;源起：今天有小🔥伴发了一段 &lt;code&gt;PHP&lt;/code&gt; 代码问执行结果和常规逻辑思考🤔结果为啥么不一样。代码如下，当时只是说和 &lt;code&gt;foreach&lt;/code&gt; 使用 &lt;code&gt;&amp;amp;&lt;/code&gt; 有关。也没深入思考到底是什么关系，午睡过后，心血来潮的想搞搞这个问题，故做如下记录。
    
    </summary>
    
      <category term="PHP" scheme="https://inscode.github.io/categories/PHP/"/>
    
    
      <category term="编程" scheme="https://inscode.github.io/tags/%E7%BC%96%E7%A8%8B/"/>
    
      <category term="PHP" scheme="https://inscode.github.io/tags/PHP/"/>
    
  </entry>
  
  <entry>
    <title>Golang爬虫系列零：爬取百度贴吧内容</title>
    <link href="https://inscode.github.io/2019/08/04/golang%E7%88%AC%E5%8F%96%E7%99%BE%E5%BA%A6%E8%B4%B4%E5%90%A7%E5%86%85%E5%AE%B9/"/>
    <id>https://inscode.github.io/2019/08/04/golang爬取百度贴吧内容/</id>
    <published>2019-08-04T04:26:26.000Z</published>
    <updated>2019-08-12T13:53:21.662Z</updated>
    
    <content type="html"><![CDATA[<h6 id="声明：以下内容仅供技术学习"><a href="#声明：以下内容仅供技术学习" class="headerlink" title="声明：以下内容仅供技术学习"></a>声明：以下内容仅供技术学习</h6><h5 id="爬虫实现步骤"><a href="#爬虫实现步骤" class="headerlink" title="爬虫实现步骤"></a>爬虫实现步骤</h5><p>1：获取需要爬取URL的地址（以 <a href="http://tieba.baidu.com/f?kw=javascript&ie=utf-8" target="_blank" rel="noopener"><code>JavaScript吧</code></a> 举例）</p><a id="more"></a><pre><code>http://tieba.baidu.com/f?kw=javascript&amp;ie=utf-8&amp;pn=0http://tieba.baidu.com/f?kw=javascript&amp;ie=utf-8&amp;pn=50http://tieba.baidu.com/f?kw=javascript&amp;ie=utf-8&amp;pn=150</code></pre><p>2：使用 http.Get(url) 获取到每一个URL的内容</p><p>3：将或得到URL的内容写入文件</p><p><strong>注意文件命名</strong></p><figure class="highlight golang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">"fmt"</span></span><br><span class="line">    <span class="string">"net/http"</span></span><br><span class="line">    <span class="string">"io"</span></span><br><span class="line">    <span class="string">"strconv"</span></span><br><span class="line">    <span class="string">"os"</span></span><br><span class="line">    <span class="string">"time"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">//贴吧的URL</span></span><br><span class="line"><span class="comment">//http://tieba.baidu.com/f?kw=javascript&amp;ie=utf-8&amp;pn=0</span></span><br><span class="line"><span class="comment">//http://tieba.baidu.com/f?kw=javascript&amp;ie=utf-8&amp;pn=50</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    start := time.Now()</span><br><span class="line">    <span class="comment">//确认起始页和终止页</span></span><br><span class="line">    <span class="keyword">var</span> startPage <span class="keyword">int</span></span><br><span class="line">    <span class="keyword">var</span> endPage <span class="keyword">int</span></span><br><span class="line">    fmt.Print(<span class="string">"请输入起始页:"</span>)</span><br><span class="line">    fmt.Scanln(&amp;startPage)</span><br><span class="line">    <span class="keyword">if</span> startPage &lt;= <span class="number">1</span> &#123;</span><br><span class="line">        startPage = <span class="number">1</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    fmt.Print(<span class="string">"请输入终止页:"</span>)</span><br><span class="line">    fmt.Scanln(&amp;endPage)</span><br><span class="line">    <span class="keyword">if</span> endPage &lt;= <span class="number">1</span> &#123;</span><br><span class="line">        endPage = <span class="number">1</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    working(startPage, endPage)</span><br><span class="line">    cost := time.Since(start)</span><br><span class="line">    fmt.Printf(<span class="string">"耗时 = [%s] "</span>, cost)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">working</span><span class="params">(startPage, endPage <span class="keyword">int</span>)</span></span> &#123;</span><br><span class="line">    fmt.Printf(<span class="string">"正在爬取第%d页到%d页的信息...\n"</span>, startPage, endPage)</span><br><span class="line"></span><br><span class="line">    pageChan := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="keyword">int</span>)</span><br><span class="line">    <span class="comment">//循环爬取每一页</span></span><br><span class="line">    <span class="keyword">for</span> i := startPage; i &lt;= endPage; i++ &#123;</span><br><span class="line">        <span class="comment">//开启协程</span></span><br><span class="line">        <span class="keyword">go</span> SpiderPage(i, pageChan)</span><br><span class="line">        <span class="comment">//SpiderPage(i, pageChan)</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i := startPage; i &lt;= endPage; i++ &#123;</span><br><span class="line">        <span class="comment">//开启协程</span></span><br><span class="line">        fmt.Printf(<span class="string">"第 %d 页 爬取完成\n"</span>, &lt;-pageChan)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//爬取单个页面的函数</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">SpiderPage</span><span class="params">(i <span class="keyword">int</span>, pageChan <span class="keyword">chan</span> <span class="keyword">int</span>)</span></span> &#123;</span><br><span class="line">    baseUrl := <span class="string">"http://tieba.baidu.com/f?kw=javascript&amp;ie=utf-8&amp;pn="</span> + strconv.Itoa((i<span class="number">-1</span>)*<span class="number">50</span>)</span><br><span class="line">    fmt.Println(<span class="string">"正在获取第"</span>, i, <span class="string">"页的内容"</span>)</span><br><span class="line">    result, err := httpGetUrl(baseUrl)</span><br><span class="line">    <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">        fmt.Println(<span class="string">"http get error, Msg"</span>, err.Error())</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//将读取到的数据存储存储为文件</span></span><br><span class="line">    file, err := os.Create(<span class="string">"JavaScript_"</span> + strconv.Itoa(i) + <span class="string">".html"</span>)</span><br><span class="line">    <span class="keyword">if</span> err != err &#123;</span><br><span class="line">        fmt.Println(<span class="string">"os Create err："</span>, err.Error())</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line">    file.WriteString(result)</span><br><span class="line">    file.Close() <span class="comment">//保存好一个文件就关闭一个文件</span></span><br><span class="line">    pageChan &lt;- i</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//爬取内容</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">httpGetUrl</span><span class="params">(url <span class="keyword">string</span>)</span> <span class="params">(result <span class="keyword">string</span>, err error)</span></span> &#123;</span><br><span class="line">    resp, err1 := http.Get(url)</span><br><span class="line">    <span class="keyword">if</span> err1 != <span class="literal">nil</span> &#123;</span><br><span class="line">        err = err1</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//关闭</span></span><br><span class="line">    <span class="keyword">defer</span> resp.Body.Close()</span><br><span class="line"></span><br><span class="line">    <span class="comment">//读取数据</span></span><br><span class="line">    buffer := <span class="built_in">make</span>([]<span class="keyword">byte</span>, <span class="number">8196</span>)</span><br><span class="line">    <span class="keyword">for</span> &#123;</span><br><span class="line">        <span class="comment">//读取的内容至于buffer容器</span></span><br><span class="line">        n, err2 := resp.Body.Read(buffer)</span><br><span class="line">        <span class="keyword">if</span> n == <span class="number">0</span> &#123;</span><br><span class="line">            fmt.Println(<span class="string">"读取网页完成"</span>)</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> err2 != <span class="literal">nil</span> &amp;&amp; err2 != io.EOF &#123;</span><br><span class="line">            err = err2</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//累次相加每一次读到的Buffer数据，存入result, 一次性返回</span></span><br><span class="line">        result += <span class="keyword">string</span>(buffer[:n])</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line"><span class="string">`</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;h6 id=&quot;声明：以下内容仅供技术学习&quot;&gt;&lt;a href=&quot;#声明：以下内容仅供技术学习&quot; class=&quot;headerlink&quot; title=&quot;声明：以下内容仅供技术学习&quot;&gt;&lt;/a&gt;声明：以下内容仅供技术学习&lt;/h6&gt;&lt;h5 id=&quot;爬虫实现步骤&quot;&gt;&lt;a href=&quot;#爬虫实现步骤&quot; class=&quot;headerlink&quot; title=&quot;爬虫实现步骤&quot;&gt;&lt;/a&gt;爬虫实现步骤&lt;/h5&gt;&lt;p&gt;1：获取需要爬取URL的地址（以 &lt;a href=&quot;http://tieba.baidu.com/f?kw=javascript&amp;ie=utf-8&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;&lt;code&gt;JavaScript吧&lt;/code&gt;&lt;/a&gt; 举例）&lt;/p&gt;
    
    </summary>
    
      <category term="Golang" scheme="https://inscode.github.io/categories/Golang/"/>
    
    
      <category term="Go" scheme="https://inscode.github.io/tags/Go/"/>
    
      <category term="爬虫" scheme="https://inscode.github.io/tags/%E7%88%AC%E8%99%AB/"/>
    
  </entry>
  
  <entry>
    <title>程序员数学基础 之 矩阵</title>
    <link href="https://inscode.github.io/2019/08/03/%E7%A8%8B%E5%BA%8F%E5%91%98%E6%95%B0%E5%AD%A6%E4%B9%8B%E7%9F%A9%E9%98%B5/"/>
    <id>https://inscode.github.io/2019/08/03/程序员数学之矩阵/</id>
    <published>2019-08-03T14:35:24.000Z</published>
    <updated>2019-08-03T16:15:48.836Z</updated>
    
    <content type="html"><![CDATA[<h6 id="1：矩阵相加"><a href="#1：矩阵相加" class="headerlink" title="1：矩阵相加"></a>1：矩阵相加</h6><a id="more"></a><!--![](./程序员数学之矩阵/矩阵相加.jpg)--><img src="/2019/08/03/程序员数学之矩阵/矩阵相加.jpg" title="矩阵相加运算法则"><h6 id="2：矩阵相乘（不符合交换律）"><a href="#2：矩阵相乘（不符合交换律）" class="headerlink" title="2：矩阵相乘（不符合交换律）"></a>2：矩阵相乘（不符合交换律）</h6><ul><li><p>标量 * 矩阵</p><ul><li>变量 * 矩阵的每一个元素，得到一个新矩阵</li></ul></li><li><p>矩阵 * 矩阵</p><ul><li><p>用矩阵的 第1行 分别去 乘以 矩阵的每一列</p></li><li><p>用矩阵的 第N行 分别去 乘以 矩阵的每一列</p></li></ul></li></ul><!--![](./程序员数学之矩阵/矩阵乘上矩阵.jpg)--><img src="/2019/08/03/程序员数学之矩阵/矩阵乘上矩阵.jpg" title="矩阵乘上矩阵"><pre><code>- 矩阵A * 矩阵B != 矩阵B * 矩阵A</code></pre><ul><li>矩阵相乘的条件：前面矩阵的列数 等于 后面矩阵的行数</li></ul>]]></content>
    
    <summary type="html">
    
      &lt;h6 id=&quot;1：矩阵相加&quot;&gt;&lt;a href=&quot;#1：矩阵相加&quot; class=&quot;headerlink&quot; title=&quot;1：矩阵相加&quot;&gt;&lt;/a&gt;1：矩阵相加&lt;/h6&gt;
    
    </summary>
    
      <category term="数学" scheme="https://inscode.github.io/categories/%E6%95%B0%E5%AD%A6/"/>
    
    
      <category term="编程" scheme="https://inscode.github.io/tags/%E7%BC%96%E7%A8%8B/"/>
    
      <category term="数学" scheme="https://inscode.github.io/tags/%E6%95%B0%E5%AD%A6/"/>
    
  </entry>
  
  <entry>
    <title>test article</title>
    <link href="https://inscode.github.io/2019/08/02/post-test-deploy-hexo/"/>
    <id>https://inscode.github.io/2019/08/02/post-test-deploy-hexo/</id>
    <published>2019-08-02T11:10:54.000Z</published>
    <updated>2019-08-03T14:40:51.057Z</updated>
    
    <content type="html"><![CDATA[<h4 id="Hexo-部署测试"><a href="#Hexo-部署测试" class="headerlink" title="Hexo 部署测试"></a>Hexo 部署测试</h4><h5 id="1：通过日志方式统计"><a href="#1：通过日志方式统计" class="headerlink" title="1：通过日志方式统计"></a>1：通过日志方式统计</h5><a id="more"></a><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">file_put_contents(<span class="string">"loc.log"</span>, microtime(<span class="keyword">true</span>).<span class="string">'_end'</span>.<span class="string">"-----$lat@2"</span>.PHP_EOL, FILE_APPEND);</span><br><span class="line"></span><br><span class="line">file_put_contents(<span class="string">'exelog/'</span>.time().<span class="string">'.log'</span>, var_export(Yii::$app-&gt;request-&gt;post(), <span class="keyword">true</span>));</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">$postdata = file_get_contents(<span class="string">"php://input"</span>);</span><br><span class="line">$postdata = json_decode($postdata,<span class="keyword">true</span>);</span><br></pre></td></tr></table></figure><h5 id="2：二维数组指定字段排序"><a href="#2：二维数组指定字段排序" class="headerlink" title="2：二维数组指定字段排序"></a>2：二维数组指定字段排序</h5><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">array_multisort (array_column($citiesMddBaseInfo, ‘hot’), SORT_DESC, $citiesMddBaseInfo);</span><br><span class="line"></span><br><span class="line">array_multisort(array_column($hotelList, <span class="string">'price'</span>), SORT_ASC, $hotelList);</span><br><span class="line"></span><br><span class="line">array_multisort($hotelList,SORT_ASC, array_column($hotelList, <span class="string">'price'</span>));</span><br></pre></td></tr></table></figure><!--![](./post-test-deploy-hexo/smell.jpg)--><img src="/2019/08/02/post-test-deploy-hexo/smell.jpg" title="这是一张测试图片">]]></content>
    
    <summary type="html">
    
      &lt;h4 id=&quot;Hexo-部署测试&quot;&gt;&lt;a href=&quot;#Hexo-部署测试&quot; class=&quot;headerlink&quot; title=&quot;Hexo 部署测试&quot;&gt;&lt;/a&gt;Hexo 部署测试&lt;/h4&gt;&lt;h5 id=&quot;1：通过日志方式统计&quot;&gt;&lt;a href=&quot;#1：通过日志方式统计&quot; class=&quot;headerlink&quot; title=&quot;1：通过日志方式统计&quot;&gt;&lt;/a&gt;1：通过日志方式统计&lt;/h5&gt;
    
    </summary>
    
      <category term="测试" scheme="https://inscode.github.io/categories/%E6%B5%8B%E8%AF%95/"/>
    
    
      <category term="PHP" scheme="https://inscode.github.io/tags/PHP/"/>
    
      <category term="Hexo" scheme="https://inscode.github.io/tags/Hexo/"/>
    
  </entry>
  
</feed>
